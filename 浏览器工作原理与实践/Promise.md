# Promise

[TOC]

解决了异步编码风格问题



## 异步编程

- **问题**：代码逻辑不连续、不线性
- **解决**：封装异步代码，让处理流程变得线性
- **新问题**：嵌套过多回调函数陷入回调地狱
  - 嵌套调用层次多代码可读性差
  - 执行每个任务都有成功和失败两种结果，所以要对每个任务的执行结果做判断还有额外的错误处理方式，任务的不确定性增加了代码的混乱程度
- **新解决**：Promise消灭嵌套调用、合并多次错误处理
  - Promise实现了回调函数的延时绑定
  - 将回调函数的返回值穿透到最外层
  - Promise对象的错误具有冒泡性质，会一直向后传递，因此Promise对象的错误可以通过最后一个对象来捕获异常，这样就合并到一个函数来处理



## Promise与微任务

Promise要使用微任务是由Promise回调函数延迟绑定技术导致的

