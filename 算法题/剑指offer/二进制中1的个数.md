# 二进制中1的个数

[TOC]

## 题目

输入一个整数，输出该数32位二进制表示中1的个数。其中负数用补码表示



## 示例

- **输入**

  10

- **返回值**

  2



## 解法

二进制只有1和0，1&1=1，0&1=0，一个整数和1做与运算的结果是1，则表示该整数最右边一位是1，否则是0

据此思路就出来了：将操作数一个一个向右移位，和判断数1做与运算，判断最右边的那个位是否为1，为1就count++，但是这样输入负数时会陷入死循环，因为负数右移时，最高位补得是1，那么这样会有无数个1

有两个解决办法：

- **判断数1左移位**

  让判断数1不断左移，和操作数一位一位进行判断。时间复杂度：O(32)，空间复杂度：O(1)

  ```javascript
  function NumberOf1(n)
  {
      // write code here
      var count = 0, flag = 1;
      while(flag) {
          if(flag & n)
              count++;
          flag = flag << 1; //判断数向左移一位
      }
      return count;
  }
  ```

- **技巧法**

  如果一个整数不为0，那么这个整数至少有一位是1。如果把这个整数减1，则原来处在整数最右边的1就会变为0，其后所有的0都会变成1(如果最右边的1后面还有0的话)。其余所有位不受影响

  例如：一个二进制数1100，减1，变为1011

  这时如果把原来的整数和减去1之后的结果做与运算，从原来整数最右边的1那一位开始所有位都会变成0

  例如：1100&1011=1000

  因此，把一个整数减去1，再和原整数做与运算，会把该整数最右边一个1变成0，那么一个整数的二进制有多少个1，就可以进行多少次这样的操作

  ```javascript
  function NumberOf1(n)
  {
      // write code here
      var count = 0;
      while(n) {
          n = n & n-1
          count++;
      }
      return count;
  }
  ```

  