# URI和URL

[TOC]

- **URI是统一资源标识符**，俗称网络地址，简称网址
- 但严格的说URI不完全等同于网址，它**包含有URL和URN两个部分**，在**HTTP中用的网址实际上是URL**
- **URL是统一资源定位符**，但因为URL非常普及，所以常常把URI与URL简单地视为相等



## URI的格式

URI本质上是一个字符串，作用是**唯一地标记资源的位置或名字**

- **URI的最常用形式**

  由scheme、host:port、path和query四个部分组成，有的部分可以视情况省略

  `scheme :// host:post path ?query`



## URI的基本组成

- **scheme**

  叫**方案名**或**协议名**，表示**资源应该使用哪种协议来访问**。最常见的是http和https，还有其它不是很常见的如ftp、ldap、file、news等

  浏览器或应用程序看到URI里的scheme会调用HTTP或HTTPS下层API，如果一个URI没有提供scheme即使后面的地址再完善也是无法处理

- **authority**

  表示资源所在主机名，通常形式是"host:port"，即**主机名+端口号**。主机名可以是IP地址或域名形式，必须要有；端口号有时可以省略，浏览器会使用默认端口号

- **path**

  标记资源所在位置的path。path采用了类似文件系统“目录” “路径”的表示方式



## URI的查询参数

即query，格式是多个"**key=value**"的字符串用字符"**&**"连接，浏览器和客户端都可以按照这个格式把长串的查询参数解析成可理解的字典或关联数组形式



## URI的完整格式

`scheme :// user:passwd@ host:post path ?query #fragment`

比基本形态多了两个部分：

- **身份信息**

  `user:password@`表示登录主机时的用户名和密码，但现在已经不推荐使用这种形式了，因为它把敏感信息以明文形式暴露出来，存在严重的安全隐患

- **片段标识符**

  `#fragment`是URI所定位的资源内部的一个“锚点”或者“标签”，浏览器可以在获取资源后直接跳转到它指示的位置

  *片段标识符仅能由客户端使用，服务器看不到，即浏览器永远不会把带片段标识符的URI发送给服务器，服务器也永远不会用这种方式去处理资源的片段



## URI的编码

URI中只能使用ASCII码，为了使用其它文字以及特殊字符，URI引入了编码机制，对于ASCII码以外的字符集和特殊字符做一个特殊操作，把它们转换成与URI语义不冲突的形式，即**转义**

- **转义规则**

  把非ASCII码或特殊字符转换成十六进制字节值，然后前面再加上一个"%"